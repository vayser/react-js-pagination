"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function _inherits(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_paginator=require("paginator"),_paginator2=_interopRequireDefault(_paginator),_Page=require("./Page"),_Page2=_interopRequireDefault(_Page),_Ellipsis=require("./Ellipsis"),_Ellipsis2=_interopRequireDefault(_Ellipsis),_classnames=require("classnames"),_classnames2=_interopRequireDefault(_classnames),Pagination=function(e){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,_react2.default.Component),_createClass(a,[{key:"isFirstPageVisible",value:function(e){var a=this.props,t=a.hideDisabled;a.hideNavigation;return!(a.hideFirstLastPages||t&&!e)}},{key:"isPrevPageVisible",value:function(e){var a=this.props,t=a.hideDisabled;return!(a.hideNavigation||t&&!e)}},{key:"isNextPageVisible",value:function(e){var a=this.props,t=a.hideDisabled;return!(a.hideNavigation||t&&!e)}},{key:"isLastPageVisible",value:function(e){var a=this.props,t=a.hideDisabled;a.hideNavigation;return!(a.hideFirstLastPages||t&&!e)}},{key:"buildPages",value:function(){var e=[],a=this.props,t=a.itemsCountPerPage,s=a.pageRangeDisplayed,i=a.activePage,l=a.prevPageText,r=a.nextPageText,n=a.firstPageText,p=a.lastPageText,u=a.totalItemsCount,o=a.onChange,_=a.activeClass,g=a.itemClass,c=a.itemClassFirst,f=a.itemClassPrev,d=a.itemClassNext,C=a.itemClassLast,h=a.activeLinkClass,v=a.disabledClass,m=(a.hideDisabled,a.hideNavigation,a.linkClass),P=a.linkClassFirst,b=a.linkClassPrev,k=a.linkClassNext,y=a.linkClassLast,x=(a.hideFirstLastPages,a.getPageUrl),T=a.ellipsis,E=a.ellipsisText,N=new _paginator2.default(t,s).build(u,i);T&&N.first_page>1&&(e.push(_react2.default.createElement(_Page2.default,{isActive:1===i,key:1,href:x(1),pageNumber:1,pageText:"1",onClick:o,itemClass:g,linkClass:m,activeClass:_,activeLinkClass:h})),3===N.first_page?e.push(_react2.default.createElement(_Page2.default,{isActive:2===i,key:2,href:x(2),pageNumber:2,pageText:"2",onClick:o,itemClass:g,linkClass:m,activeClass:_,activeLinkClass:h})):N.first_page>3&&e.push(_react2.default.createElement(_Ellipsis2.default,{key:"startEllipsis",itemClass:g,linkClass:m,disabledClass:v,ellipsisText:E})));for(var D=N.first_page;D<=N.last_page;D++)e.push(_react2.default.createElement(_Page2.default,{isActive:D===i,key:D,href:x(D),pageNumber:D,pageText:D+"",onClick:o,itemClass:g,linkClass:m,activeClass:_,activeLinkClass:h}));return T&&N.last_page<N.total_pages&&(N.last_page===N.total_pages-2?e.push(_react2.default.createElement(_Page2.default,{isActive:N.total_pages-1===i,key:N.total_pages-1,href:x(N.total_pages-1),pageNumber:N.total_pages-1,pageText:N.total_pages-1+"",onClick:o,itemClass:g,linkClass:m,activeClass:_,activeLinkClass:h})):N.last_page<N.total_pages-1&&e.push(_react2.default.createElement(_Ellipsis2.default,{key:"endEllipsis",itemClass:g,linkClass:m,disabledClass:v,ellipsisText:E})),e.push(_react2.default.createElement(_Page2.default,{isActive:N.total_pages===i,key:N.total_pages,href:x(N.total_pages),pageNumber:N.total_pages,pageText:N.total_pages+"",onClick:o,itemClass:g,linkClass:m,activeClass:_,activeLinkClass:h}))),this.isPrevPageVisible(N.has_previous_page)&&e.unshift(_react2.default.createElement(_Page2.default,{key:"prev"+N.previous_page,pageNumber:N.previous_page,onClick:o,pageText:l,isDisabled:!N.has_previous_page,itemClass:(0,_classnames2.default)(g,f),linkClass:(0,_classnames2.default)(m,b),disabledClass:v})),this.isFirstPageVisible(N.has_previous_page)&&e.unshift(_react2.default.createElement(_Page2.default,{key:"first",pageNumber:1,onClick:o,pageText:n,isDisabled:!N.has_previous_page,itemClass:(0,_classnames2.default)(g,c),linkClass:(0,_classnames2.default)(m,P),disabledClass:v})),this.isNextPageVisible(N.has_next_page)&&e.push(_react2.default.createElement(_Page2.default,{key:"next"+N.next_page,pageNumber:N.next_page,onClick:o,pageText:r,isDisabled:!N.has_next_page,itemClass:(0,_classnames2.default)(g,d),linkClass:(0,_classnames2.default)(m,k),disabledClass:v})),this.isLastPageVisible(N.has_next_page)&&e.push(_react2.default.createElement(_Page2.default,{key:"last",pageNumber:N.total_pages,onClick:o,pageText:p,isDisabled:N.current_page===N.total_pages,itemClass:(0,_classnames2.default)(g,C),linkClass:(0,_classnames2.default)(m,y),disabledClass:v})),e}},{key:"render",value:function(){var e=this.buildPages();return _react2.default.createElement("ul",{className:this.props.innerClass},e)}}]),a}();Pagination.defaultProps={itemsCountPerPage:10,pageRangeDisplayed:5,activePage:1,prevPageText:"⟨",firstPageText:"«",nextPageText:"⟩",lastPageText:"»",innerClass:"pagination",itemClass:void 0,linkClass:void 0,activeLinkClass:void 0,hideFirstLastPages:!1,getPageUrl:function(e){return"#"},ellipsisText:"…"},exports.default=Pagination;